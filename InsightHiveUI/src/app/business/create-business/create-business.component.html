<form [formGroup]="businessForm" (ngSubmit)="onSubmit()" class="business-form">
    <div class="form-group">
        <label for="name">Name:</label>
        <input type="text" id="name" formControlName="name" class="form-control" placeholder="Enter business name">
        <div *ngIf="businessForm.get('name')?.invalid && businessForm.get('name')?.touched" class="error-message">
            Name is required.
        </div>
    </div>
    <div class="form-group">
        <label for="description">Description:</label>
        <textarea id="description" formControlName="description" class="form-control"
            placeholder="Enter business description"></textarea>
        <div *ngIf="businessForm.get('description')?.invalid && businessForm.get('description')?.touched"
            class="error-message">
            Description is required.
        </div>
    </div>
    <div class="form-group">
        <label for="logo">Logo:</label>
        <input type="file" id="logo" formControlName="logo" (change)="onFileSelected($event)" class="form-control">
        <div *ngIf="businessForm.get('logo')?.invalid && businessForm.get('logo')?.touched" class="error-message">
            Logo is required.
        </div>
    </div>
    <div class="form-group">
    <label for="category">Category:</label>
    <select id="category" formControlName="categoryId" class="form-control" (change)="onCategoryChange()">
        <option value="" disabled selected>Select a category</option>
        <option *ngFor="let category of categories" [value]="category.id">{{ category.name }}</option>
    </select>
    <div *ngIf="businessForm.get('categoryId')?.invalid && businessForm.get('categoryId')?.touched" class="error-message">
        Category is required.
    </div>
    </div>
    <div *ngIf="selectedCategory" class="form-group">
        <label for="filter">Filter:</label>
        <select id="filter" formControlName="filterId" class="form-control">
            <option value="" disabled selected>Select a filter</option>
            <option *ngFor="let filter of selectedCategory.filters" [value]="filter.id">{{ filter.name }}</option>
        </select>
        <div *ngIf="businessForm.get('filterId')?.invalid && businessForm.get('filterId')?.touched" class="error-message">
            Filter is required.
        </div>
    </div>
    <div class="form-group">
        <label for="subCategoryId">Subcategory ID:</label>
        <input type="number" id="subCategoryId" formControlName="subCategoryId" class="form-control"
            placeholder="Enter subcategory ID">
        <div *ngIf="businessForm.get('subCategoryId')?.invalid && businessForm.get('subCategoryId')?.touched"
            class="error-message">
            Subcategory ID is required.
        </div>
    </div>
    <div class="form-group">
        <label for="subCategoryName">Subcategory Name:</label>
        <input type="text" id="subCategoryName" formControlName="subCategoryName" class="form-control"
            placeholder="Enter subcategory name">
        <div *ngIf="businessForm.get('subCategoryName')?.invalid && businessForm.get('subCategoryName')?.touched"
            class="error-message">
            Subcategory Name is required.
        </div>
    </div>
    <div class="form-group">
        <label for="ownerId">Owner ID:</label>
        <input type="number" id="ownerId" formControlName="ownerId" class="form-control" placeholder="Enter owner ID">
        <div *ngIf="businessForm.get('ownerId')?.invalid && businessForm.get('ownerId')?.touched" class="error-message">
            Owner ID is required.
        </div>
    </div>
    <button type="submit" [disabled]="businessForm.invalid" class="button">Create Business</button>
</form>